<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="TopCoder,Sort," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="TopCoder/ SortingThings to consider efficiency memory space stability  Bubble sort1234567for (int i=0; i&amp;lt;data.size()-1; i++)&amp;#123;	for(int j=0; j&amp;lt;data.size()-i-1; j++)&amp;#123;        if(data[j] &amp;g">
<meta name="keywords" content="TopCoder,Sort">
<meta property="og:type" content="article">
<meta property="og:title" content="TopCoder-Sorting">
<meta property="og:url" content="http://yoursite.com/2018/01/03/TopCoder-Sorting/index.html">
<meta property="og:site_name" content="Angus&#39; MineCraft">
<meta property="og:description" content="TopCoder/ SortingThings to consider efficiency memory space stability  Bubble sort1234567for (int i=0; i&amp;lt;data.size()-1; i++)&amp;#123;	for(int j=0; j&amp;lt;data.size()-i-1; j++)&amp;#123;        if(data[j] &amp;g">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-02-22T03:39:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TopCoder-Sorting">
<meta name="twitter:description" content="TopCoder/ SortingThings to consider efficiency memory space stability  Bubble sort1234567for (int i=0; i&amp;lt;data.size()-1; i++)&amp;#123;	for(int j=0; j&amp;lt;data.size()-i-1; j++)&amp;#123;        if(data[j] &amp;g">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/01/03/TopCoder-Sorting/"/>





  <title>TopCoder-Sorting | Angus' MineCraft</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-106986191-1', 'auto');
  ga('send', 'pageview');
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->











</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Angus' MineCraft</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-resources">
          <a href="/resources/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Resources
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-projects">
          <a href="/projects/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Projects
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/03/TopCoder-Sorting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Angus">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/selfie.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Angus' MineCraft">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">TopCoder-Sorting</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-03T15:49:35-08:00">
                2018-01-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/03/TopCoder-Sorting/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/03/TopCoder-Sorting/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="TopCoder-Sorting"><a href="#TopCoder-Sorting" class="headerlink" title="TopCoder/ Sorting"></a>TopCoder/ Sorting</h1><h2 id="Things-to-consider"><a href="#Things-to-consider" class="headerlink" title="Things to consider"></a>Things to consider</h2><ol>
<li>efficiency</li>
<li>memory space</li>
<li>stability</li>
</ol>
<h2 id="Bubble-sort"><a href="#Bubble-sort" class="headerlink" title="Bubble sort"></a>Bubble sort</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;data.size()<span class="number">-1</span>; i++)&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;data.size()-i<span class="number">-1</span>; j++)&#123;</div><div class="line">        <span class="keyword">if</span>(data[j] &gt; data[j+<span class="number">1</span>])&#123;</div><div class="line">            swap(data[j],data[j+<span class="number">1</span>]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>it’s O(n^2), 常数的memory space, stable sort</p>
<h2 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="Insertion Sort"></a>Insertion Sort</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;data.size(); i++)&#123;</div><div class="line">    <span class="keyword">int</span> j = i<span class="number">-1</span>;</div><div class="line">  	<span class="keyword">int</span> temp = data[i];</div><div class="line">  <span class="keyword">while</span>(j &gt;= <span class="number">0</span> &amp;&amp; data[j] &gt; data[i])&#123;</div><div class="line">      data[j+<span class="number">1</span>] = data[j];</div><div class="line">      j--;</div><div class="line">  &#125;</div><div class="line">  data[j+<span class="number">1</span>] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>   插入排序对近似已经有序的序列效果很好。还有就是对于动态增长的序列，使用插入排序可以动态维护。</p>
<h2 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; data, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(left &lt; right)&#123;</div><div class="line">        <span class="keyword">int</span> m = left+(right-left) / <span class="number">2</span>; <span class="comment">// here right-left to avoid overflow when right left and right is very big</span></div><div class="line">      	mergeSort(data, m+<span class="number">1</span>, right);</div><div class="line">      	mergeSort(data, left, m);</div><div class="line">      </div><div class="line">      	merge(data, left, m, right);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; data, <span class="keyword">int</span> left, <span class="keyword">int</span> m, <span class="keyword">int</span> right)</span></span>&#123;</div><div class="line">  	<span class="keyword">int</span> n_left = m-left+<span class="number">1</span>;</div><div class="line">  	<span class="keyword">int</span> n_right = right-m; <span class="comment">// not inclued m</span></div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; L(data.begin()+left, data.begin()+m+<span class="number">1</span>); <span class="comment">// [)</span></div><div class="line">  	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; R(data.begin()+m+<span class="number">1</span>, data.begin()+right+<span class="number">1</span>);</div><div class="line">  </div><div class="line">  	<span class="keyword">int</span> i=<span class="number">0</span>; <span class="comment">// initial index of left array</span></div><div class="line">   	<span class="keyword">int</span> j = <span class="number">0</span>; <span class="comment">// initial index of right array</span></div><div class="line">  	<span class="keyword">int</span> k = left; <span class="comment">// initial index of data</span></div><div class="line">  </div><div class="line">  	<span class="keyword">while</span>(i&lt;n_left &amp;&amp; j &lt; n_rigt)&#123;</div><div class="line">        <span class="keyword">if</span>(L[i] &lt;= R[j])&#123;</div><div class="line">            data[k] = L[i];</div><div class="line">          	i++;</div><div class="line">        &#125;</div><div class="line">      	<span class="keyword">else</span>&#123;</div><div class="line">            data[k] = R[j];</div><div class="line">          	j++;</div><div class="line">        &#125;</div><div class="line">      	k++;</div><div class="line">    &#125;</div><div class="line">  	<span class="comment">// Copy the remainging elements of L or R</span></div><div class="line">  	<span class="keyword">while</span>(i&lt;n_left)&#123;</div><div class="line">        data[k++] = L[i++];</div><div class="line">    &#125;</div><div class="line">  	<span class="keyword">while</span>(j&lt;n_right)&#123;</div><div class="line">        data[k++] = R[j++];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>n(n^logn) . mege sort比较适合对链表的排序，因为quick sort里面有比较多的random access操作，所以quick sort对list并不是很合适。</p>
<h2 id="Heap-Sort"><a href="#Heap-Sort" class="headerlink" title="Heap Sort"></a>Heap Sort</h2><p>可以使用STL里面的priority_queue, 默认是最大堆，如果想使用最小堆，可以这样<code>priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; pq</code> 然后pq就是最小堆了。记得跟greater less相反就行。</p>
<p>注意跟sort中greater less用法的不同。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">sort(arr.begin(), arr.end(), less&lt;<span class="keyword">int</span>&gt;()) <span class="comment">// 这是增序 1，2 ，3</span></div><div class="line">sort(arr.begin(), arr.end(), greater&lt;<span class="keyword">int</span>&gt;()) <span class="comment">// 这是降序 3, 2, 1</span></div><div class="line"></div><div class="line">priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, less&lt;<span class="keyword">int</span>&gt; &gt; pq <span class="comment">// 这是最大堆， 3</span></div><div class="line">priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt; pq <span class="comment">// 这是最小堆， 1</span></div><div class="line"> </div><div class="line">还有一个不同是，sort传递的是函数，greater&lt;<span class="keyword">int</span>&gt;()要有括号，而priority_queue不是</div></pre></td></tr></table></figure>
<h2 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">quicksort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;data, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(low &lt; high)&#123;</div><div class="line">        <span class="keyword">int</span> pi = partition(data, low, high);</div><div class="line">      	quicksort(data, low, pi<span class="number">-1</span>);</div><div class="line">      	quicksort(data, pi+<span class="number">1</span>, high);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; data, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> pivot = data[high]; <span class="comment">// choose the last item as pivot</span></div><div class="line">  	<span class="keyword">int</span> i = (low<span class="number">-1</span>);</div><div class="line">  	<span class="keyword">for</span>(<span class="keyword">int</span> j=low; j&lt;high; j++)&#123;</div><div class="line">        <span class="keyword">if</span>(data[j] &lt;= pivot)&#123;</div><div class="line">            i++;</div><div class="line">          	swap(data[i], data[j]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">  	swap(data[i+<span class="number">1</span>], data[high]);</div><div class="line">  	<span class="keyword">return</span> i+<span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Quick sort time complexity is O(n^logn), worst case is O(n^2)</p>
<h2 id="Counting-Sort"><a href="#Counting-Sort" class="headerlink" title="Counting Sort"></a>Counting Sort</h2><p><strong>Time complexity is O(n+k)</strong>, n is the number of elements in input array and k is the range of input.</p>
<p>pseudocode: the data are in the range 0 to k ($0 &lt;= data_i &lt;= k$)</p>
<ol>
<li>Take a count array to store the count of each unique object</li>
<li>Modify the count array such that each element at each index stores the sum of previous counts. It indicates the position of each object in the output sequence.</li>
<li>Ouput each object from the input sequence followed by decreasing its count by 1.</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">countSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr)</span></span>&#123;</div><div class="line">  <span class="keyword">const</span> <span class="keyword">int</span> RANGE = k; <span class="comment">// k should be a constant number, e.g. 9</span></div><div class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; output(arr.size());</div><div class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(RANGE + <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">  </div><div class="line">  <span class="comment">// 1</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arr.size(); i++)&#123;</div><div class="line">    ++count[arr[i]];</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">// 2</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=RANGE; i++)&#123;</div><div class="line">    count[i] += count[i<span class="number">-1</span>];</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">// 3, this is unstable(left to right); right to left is stable</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arr.size(); i++)&#123;</div><div class="line">    output[count[arr[i]] - <span class="number">1</span>] = arr[i]; <span class="comment">// -1 because starts from 0</span></div><div class="line">    --count[arr[i]];</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">// copy the output back to arr</span></div><div class="line">  copy(output.begin(), output.end(), arr.begin());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Radix-Sort"><a href="#Radix-Sort" class="headerlink" title="Radix Sort"></a>Radix Sort</h2><p>As we know, counting sort’s time complexity is O(n+k), <strong>what if the elements are in range from 0 to $n^2$?</strong>  We cannot use counting sort because counting sort will take $O(n^2)$ which is worse than <strong><em>comparision based</em></strong> sorting algorithms. Can we sort such an array in linear time?</p>
<p>Radix sort is to do digit by digit sort starting from least significant digit to most significant digit. Radix sort uses counting sort as a subroutine to sort.</p>
<p><strong><em>This algorithm is only used to sort numbers</em></strong></p>
<p><strong>Time Complexity $O((n+b)<em>d)$  or  $O((n+b)</em>log_b(m))$</strong></p>
<p>Where n is the size of arrary, b is the representation base, for example, for decimal system, b is 10. d is the digits number of input integers. For example, m is the max number of array, then d should be $log_b(m)$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">countSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr, <span class="keyword">int</span> <span class="built_in">exp</span>)</span></span>&#123;</div><div class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; output(arr.size());</div><div class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(<span class="number">10</span>, <span class="number">0</span>);</div><div class="line">  <span class="comment">// count all occurance</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arr.size(); i++)&#123;</div><div class="line">    count[(arr[i]/<span class="built_in">exp</span>)%<span class="number">10</span>]++;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;<span class="number">10</span>; i++)&#123;</div><div class="line">    count[i] += count[i<span class="number">-1</span>];</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">// Reason for right to left is to be stable</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=(<span class="keyword">int</span>)arr.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</div><div class="line">    output[count[(arr[i]/<span class="built_in">exp</span>)%<span class="number">10</span>]<span class="number">-1</span>] = arr[i];</div><div class="line">    count[(arr[i]/<span class="built_in">exp</span>)%<span class="number">10</span>]--;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  copy(output.begin(), output.end(), arr.begin());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">radixSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr)</span></span>&#123;</div><div class="line">  <span class="keyword">int</span> m = *max_element(arr.begin(), arr.end());</div><div class="line">  </div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> <span class="built_in">exp</span> = <span class="number">1</span>; m/<span class="built_in">exp</span> &gt; <span class="number">0</span>; <span class="built_in">exp</span> *= <span class="number">10</span>)&#123;</div><div class="line">    countSort(arr, <span class="built_in">exp</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Bucket-Sort"><a href="#Bucket-Sort" class="headerlink" title="Bucket Sort"></a>Bucket Sort</h2><p>In some special cases, counting sort or radix sort could achieve linear time complexity. However, for counting sort or radix sort, they both have the same limitation that they use key as index. So if u want to sort a range of float number? How to do it?</p>
<p>Bucket sort is mainly useful when <strong>input is uniformly distributed over a range. For example, consider the following problem. Sort a large set of floating point numbers which are in range from 0.0 to 1.0 and are uniformly distributed across the range. How do we sort the numbers efficiently?</strong></p>
<p>Pseudocode:</p>
<ol>
<li>Create some buckets and put elements into them</li>
<li>apply some sorting algo to sort the elements in each bucket(insertion sort)</li>
<li>Take out and join all buckets together</li>
</ol>
<p><strong>Time Complexity</strong> average case is O(n+k) k is the number of buckets.</p>
<p>Worst is O(n^2), depends on the distribution of input.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">pseudo code:</div><div class="line">scatter: divide into diff buckets</div><div class="line">sort each bucket</div><div class="line">gather: put all elements back to original <span class="built_in">array</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Here arr's value is between 0 to 1</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">bucketSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">float</span>&gt;&amp; arr)</span></span>&#123;</div><div class="line">  <span class="keyword">int</span> len = arr.size();</div><div class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">float</span>&gt; buckets[len]; <span class="comment">// here is a array of vector</span></div><div class="line">  </div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</div><div class="line">    <span class="keyword">int</span> index = len * arr[i];</div><div class="line">    buckets[index].push_back(arr[i]);</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</div><div class="line">    sort(bucket[i].begin(), bucket[i].end());</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">int</span> idx = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;buckets[i].size(); j++)&#123;</div><div class="line">      arr[idx++] = buckets[i][j];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="External-Sort"><a href="#External-Sort" class="headerlink" title="External Sort"></a>External Sort</h2><p>When the data is too big or the computer’s memory is too small to load the data completely, at that time, we can take use of disk.</p>
<p>Reference Link: <a href="http://faculty.simpson.edu/lydia.sinapova/www/cmsc250/LN250_Weiss/L17-ExternalSortEX2.htm" target="_blank" rel="external">http://faculty.simpson.edu/lydia.sinapova/www/cmsc250/LN250_Weiss/L17-ExternalSortEX2.htm</a></p>
<h4 id="External-Sorting-Example-of-multiway-external-sorting"><a href="#External-Sorting-Example-of-multiway-external-sorting" class="headerlink" title="External Sorting: Example of multiway external sorting"></a><strong>External Sorting: Example of multiway external sorting</strong></h4><p>Ta1: 17, 3, 29, 56, 24, 18, 4, 9, 10, 6, 45, 36, 11, 43</p>
<p>Assume that we have three tapes (k = 3) and the memory can hold three records.</p>
<p><strong>Main memory sort</strong></p>
<p>The first three records are read into memory, sorted and written on Tb1,<br>the second three records are read into memory, sorted and stored on Tb2,<br>finally the third three records are read into memory, sorted and stored on Tb3.</p>
<p>Now we have one run on each of the three tapes:</p>
<p>Tb1: 3, 17, 29</p>
<p>Tb2: 18, 24, 56</p>
<p>Tb3: 4, 9, 10</p>
<p>The next portion of three records is sorted into main memory<br>and stored as the second run on Tb1:</p>
<p>Tb1: 3, 17, 29, <strong>6, 36, 45</strong></p>
<p>The next portion, which is also the last one, is sorted and stored onto Tb2:</p>
<p>Tb2: 18, 24, 56, <strong>11, 43</strong></p>
<p>Nothing is stored on Tb3.Thus, after the main memory sort, our tapes look like this:</p>
<p>Tb1: 3, 17, 29, | 6, 36, 45</p>
<p>Tb2: 18, 24, 56, | 11, 43</p>
<p>Tb3: 4, 9, 10</p>
<p><strong>Merging</strong></p>
<p>–<strong>Merging runs of length M to obtain runs of length k*M</strong></p>
<p>In our example we merge runs of length 3<br>and the resulting runs would be of length 9.</p>
<p>We build a heap tree in main memory out of the first records in each tape.<br>These records are: 3, 18, and 4.</p>
<p>We take the smallest of them - 3, using the <strong>deleteMin</strong> operation, and store it on tape Ta1.</p>
<p>The record ‘3’ belonged to Tb1, so we read the next record from Tb1 - 17, and insert it into the heap. Now the heap contains 18, 4, and 17.</p>
<p>The next <strong>deleteMin</strong> operation will output 4, and it will be stored on Ta1.The record ‘4’ comes from Tb3, so we read the next record ‘9’ from Tb3<br>and insert it into the heap.<br>Now the heap contains 18, 17 and 9.Proceeding in this way, the <strong>first three runs</strong> will be stored in sorted order on Ta1.</p>
<p>Ta1: 3, 4, 9, 10, 17, 18, 24, 29, 56</p>
<p>Now it is time to build a heap of the <strong>second three runs</strong>.<br>(In fact they are only two, and the run on Tb2 is not complete.)The resulting sorted run on Ta2 will be:</p>
<p>Ta2: 6, 11, 36, 43, 45</p>
<p>This finishes the first pass.</p>
<p>–<strong>Building runs of length k*k*M</strong></p>
<p>We have now only two tapes: Ta1 and Ta2.<br>We build a heap of the first elements of the two tapes - 3 and 6, and output the smallest element ‘3’ to tape Tb1.</p>
<p>Then we read the next record from the tape where the record ‘3’ belonged - Ta1, and insert it into the heap.</p>
<p>Now the heap contains 6 and 4, and using the <strong>deleteMin</strong> operation. the smallest record - 4 is output to tape Tb1.</p>
<p>Proceeding in this way, the entire file will be sorted on tape Tb1.</p>
<p>Tb1: 3, 4, 6, 9, 10, 11, 17, 18, 24, 29, 36, 43, 45, 56</p>
<p>The number of passes for the multiway merging is log<strong>k</strong>(N/M). </p>
<p>In the example this is [log<strong>3</strong>(14/3)] + 1 = 2. </p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>Thanks for your donation</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="Angus WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="Angus Alipay"/>
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    Angus
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="http://yoursite.com/2018/01/03/TopCoder-Sorting/" title="TopCoder-Sorting">http://yoursite.com/2018/01/03/TopCoder-Sorting/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/TopCoder/" rel="tag"># TopCoder</a>
          
            <a href="/tags/Sort/" rel="tag"># Sort</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/27/Probabilistic-3D-Reconstruction/" rel="next" title="Probabilistic 3D Reconstruction">
                <i class="fa fa-chevron-left"></i> Probabilistic 3D Reconstruction
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/01/13/What-should-I-do-at-25/" rel="prev" title="What should I do at 25">
                What should I do at 25 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/selfie.jpg"
               alt="Angus" />
          <p class="site-author-name" itemprop="name">Angus</p>
           
              <p class="site-description motion-element" itemprop="description">只要思想不滑坡，办法总比困难多</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/XingwenZhang/" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/xingwen-zhang/" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:zhangxingwen0428@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TopCoder-Sorting"><span class="nav-number">1.</span> <span class="nav-text">TopCoder/ Sorting</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Things-to-consider"><span class="nav-number">1.1.</span> <span class="nav-text">Things to consider</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bubble-sort"><span class="nav-number">1.2.</span> <span class="nav-text">Bubble sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Insertion-Sort"><span class="nav-number">1.3.</span> <span class="nav-text">Insertion Sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Merge-Sort"><span class="nav-number">1.4.</span> <span class="nav-text">Merge Sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Heap-Sort"><span class="nav-number">1.5.</span> <span class="nav-text">Heap Sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quick-Sort"><span class="nav-number">1.6.</span> <span class="nav-text">Quick Sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Counting-Sort"><span class="nav-number">1.7.</span> <span class="nav-text">Counting Sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Radix-Sort"><span class="nav-number">1.8.</span> <span class="nav-text">Radix Sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bucket-Sort"><span class="nav-number">1.9.</span> <span class="nav-text">Bucket Sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#External-Sort"><span class="nav-number">1.10.</span> <span class="nav-text">External Sort</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#External-Sorting-Example-of-multiway-external-sorting"><span class="nav-number">1.10.0.1.</span> <span class="nav-text">External Sorting: Example of multiway external sorting</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Angus</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://angus0428.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://yoursite.com/2018/01/03/TopCoder-Sorting/';
          this.page.identifier = '2018/01/03/TopCoder-Sorting/';
          this.page.title = 'TopCoder-Sorting';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://angus0428.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  








  





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

  

</body>
</html>
